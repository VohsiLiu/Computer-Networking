# 第二章 物理层

## 2.1 物理层的基本概念

- 物理层考虑的是**怎样才能在连接各种计算机的传输媒体上传输数据比特流**，而不是指具体的传输媒体

- 用于物理层的协议也常称为物理层**规程**（procedure）

- 可以将物理层的主要任务描述为确定与传输媒体的接口有关的一些特性，即:

  - **机械特性：**指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。平时常见的各种规格的接插件都有严格的标准化的规定
  
  - **电气特性：**指明在接口电缆的各条线上出现的电压的范围
  
  - **功能特性：**指明某条线上出现的某一电平的电压的意义
  
  - **过程特性：**指明对于不同功能的各种可能事件的出现顺序

## 2.2 数据通信的基础知识

### 2.2.1 数据通信系统的模型

一个数据通信系统可划分为三大部分，即**源系统**（或发送端、发送方）、**传输系统**（或传输网络）和**目的系统**（或接收端、接收方）

- 源系统一般包括以下两个部分：

  - **源点**（source）**：**源点设备产生要传输的数据，又称为**源站**或**信源**
  - **发送器：**通常源点生成的数字比特流要通过发送器编码后才能够在传输系统中进行传输。典型的发送器就是调制器。现在很多计算机使用内置的调制解调器（包含调制器和解调器）

- 目的系统一般也包括以下两个部分：

  - **接收器：**接收传输系统传送过来的信号，并把它转换为能够被目的设备处理的信息。典型的接收器就是**解调器**，它把来自传输线路上的模拟信号进行解调，提取出 在发送端置入的消息，还原出发送端产生的数字比特流
  - **终点**（destination）**：**终点设备从接收器获取传送来的数字比特流，然后把信息输出，又称为**目的站**或**信宿**

- 在源系统和目的系统之间的传输系统可以是简单的传输线，也可以是连接在源系统和目的系统之间的复杂网络系统

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220127111058.png" style="zoom:40%;" />

### 2.2.2 有关信道的几个基本概念

- **信道**一般用来表示向某一个方向传送信息的媒体。因此，一条通信电路往往包含一条发送信道和一条接收信道

- 从通信的双方信息交互的方式来看，可以有以下三种基本方式：

  - **单向通信**，又称为**单工通信**，即只能有一个方向的通信而没有反方向的交互

  - **双向交替通信**，又称为**半双工通信**，即通信的双方都可以发送信息，但不能双方同时发送（接收）

  - **双向同时通信**，又称为**全双工通信**，即通信的双方可以同时发送和接收信息

- 来自信源的信号常称为**基带信号**（即基本频带信号）

- 由于基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量，所以必须对基带信号进行**调制**（modulation）

  - **基带调制：**仅仅对基带信号的波形进行变换，使它能够与信道特性相适应。变换后的信号仍然是基带信号。由于这种基带调制是把数字信号转换为另一种形式的数字信号，因此大家更愿意把这种过程称为**编码**（coding）
  - **带通调制：**使用**载波**（carrier）进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，这样就能够更好地在模拟信道中传输

**（1）常用编码方式**

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220127111119.png" style="zoom:33%;" />

- **不归零制：**正电平代表 1，负电平代表 0
-  **归零制：**正脉冲代表 1，负脉冲代表 0
-  **曼彻斯特编码：**位周期中心的向上跳变代表 0，位周期中心的向下跳变代表 1。也可反过来定义。
-  **差分曼彻斯特编码：**在每一位的中心处始终都有跳变。位开始边界有跳变代表 0，而位开始边界没有跳变代表 1。

**（2）基本的带通调制方法**

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220127111131.png" style="zoom:33%;" />

为了达到更高的信息传输速率，必须采用技术上更为复杂的多元制的振幅相位混合调制方法。例如，**正交振幅调制 QAM** （Quadrature Amplitude Modulation）

### 2.2.3 信道的极限容量

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220127111143.png" style="zoom:33%;" />

从概念上讲，限制码元在信道上的传输速率的因素有：

- 信道能够通过的频率范围

- 信噪比

#### 1.奈氏准则

- 在假定的理想条件下，**为了避免码间串扰，码元传输速率是有上限的**

- 用$W$表示信号带宽（单位为Hz）， $\mathrm{Baud}$为波特，即码元/秒，则有：

$$
\mbox{理想低通信道的最高码元传输速率}=2W\ \mathrm{Baud}=2W\ \mbox{码元/秒} \\
\mbox{理想带通信道的最高码元传输速率}=W\ \mathrm{Baud}=W\ \mbox{码元/秒}
$$

- 码元传输速率又称为波特率、调制频率、波形频率或符号频率。它与比特率有一定关系：

  - 当1个码元只携带1比特的信息量时，则波特率（码元/秒）与比特率（比特/秒）在数值上是相等的
  - 当1个码元携带$n$比特的信息量时，则波特率转换成比特率时，数值要乘以$n$
- 要提高信息传输速率（比特率），就必须设法使每一个码元能携带更多个比特的信息量。这需要采用多元制
- 实际的信道所能传输的最高码元速率，要明显低于奈氏准则给出的上限数值

#### 2.香农公式

- 香农公式描述的是带宽受限且有高斯白噪声干扰的信道的极限信息传输速率

- 用$W$​表示信道带宽（单位Hz），$S$​表示信道内所传信号的平均功率，$N$​表示信道内的高斯噪声功率，$S/N$​​表示信噪比，使用分贝（dB）作为度量单位，且有
  $$
  \mbox{信噪比}\ \mathrm{(dB)}=10\times \log_{10} \frac{S}{N}\ \mathrm{(dB)}
  $$
  则信道的极限信息传输速率$c$​表示为（单位b/s）
  $$
  c=W\times \log_2\left(1+\frac{S}{N}\right)
  $$


## 2.3 物理层下面的传输媒体

- 传输媒体是数据传输系统中在发送器和接收器之间的物理通路，也称为传输介质或传输媒介

- 传输媒体可分为两大类：**导引型传输媒体**和**非导引型传输媒体**

  - 在导引型传输媒体中，电磁波被导引沿着固体媒体（铜线或光纤）传播，

  - 非导引型传输媒体就是指自由空间，在非导引型传输媒体中电磁波的传输常称为无线传输

![](https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171853.png)

### 2.3.1 导引型传输媒体

#### 1.双绞线

- 把两根互相绝缘的铜导线并排放在一起，然后用规则的方法**绞合**起来就构成了双绞线
- 绞合可减少相邻导线的电磁干扰，也可抵御部分来自外界的电磁波干扰
- 为了提高双绞线抗电磁干扰的能力，可以在双绞线的外面再加上一层用金属丝编织成的屏蔽层。这就是**屏蔽双绞线**，简称为 STP

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171905.png" style="zoom:30%;" />

#### 2.同轴电缆

同轴电缆由内导体铜质芯线（单股实心线或多股绞合线）、绝缘层、网状编织的外导体屏蔽层（也可以是单股的）以及保护塑料外层所组成

由于外导体屏蔽层的作用，同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171923.png" style="zoom:33%;" />

#### 3.光纤

- **光纤**是光纤通信的传输媒体。在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲的作用下能产生出光脉冲。在接收端利用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲

- 光纤通常由非常透明的石英玻璃拉成细丝，主要由纤芯和包层构成双层通信圆柱体

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171933.png" style="zoom:33%;" />

- 可以存在多条不同角度入射的光线在一条光纤中传输，这种光纤就称为**多模光纤**。光脉冲在多模光纤中传输时会逐渐展宽，造成失真。因此多模光纤只适合于近距离传输

- 若光纤的直径减小到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射，这样的光纤称为**单模光纤**

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171947.png" style="zoom:33%;" />

- 由于光纤非常细，因此必须将光纤做成很结实的光缆

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220128171957.png" style="zoom:33%;" />

- 光纤的优点
  - 传输损耗小，中继距离长，对远距离传输特别经济
  - 抗雷电和电磁干扰性能好，这在有大电流脉冲干扰的环境下尤为重要
  - 无串音干扰，保密性好，也不易被窃听或截取数据
  - 体积小，重量轻
- 光纤的缺点
  - 割接需要专用设备
  - 光电接口价格较贵

### 2.3.2 非导引型传输媒体

**短波通信**主要是靠电离层的反射。但电离层的不稳定所产生的衰落现象和电离层反射所产生的**多径效应**，使得短波信道的通信质量较差，因此，当必须使用短波无线电台传送数据时，一般都是低速传输

**无线电微波通信**主要使用 2～40 GHz 的频率范围。微波在空间主要是直线传播。由于微波会穿透电离层而进入宇宙空间，因此它不像短波那样可以经电离层反射传播到地面上很远的地方。传统的微波通信主要有两种方式，即**地面微波接力通信**和**卫星通信**

**卫星通信**的最大特点是通信距离远，且通信费用与通信距离无关，但具有**较大的传播时延**

## 2.4 信道复用技术

### 2.4.1 频分复用、时分复用和统计时分复用

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220202202357.png" style="zoom:38%;" />

最基本的复用就是**频分复用 FDM**（Frequency Division Multiplexing）和**时分复用 TDM**（Time Division Multiplexing）

- **频分复用：**用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。**频分复用的所有用户在同样的时间占用不同的带宽资源**（请注意，这里的“带宽”是频率带宽而不是数据的发送速率）
- **时分复用：**将时间划分为一段段等长的时分复用帧（TDM 帧）。每一个时分复用的用户在每一个 TDM 帧中占用固定序号的时隙。**时分复用的所有用户是在不同的时间占用同样的频带宽度**

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220202202416.png" style="zoom:36%;" />

- **统计时分复用STDM** （Statistic TDM）是一种改进的时分复用，它能明显地提高信道的利用率。集中器（concentrator）常使用这种统计时分复用

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220202202429.png" style="zoom:36%;" />

### 2.4.2 波分复用

**波分复用 WDM**（Wavelength Division Multiplexing）就是光的频分复用

由于光信号一段距离后就会衰减，因此对衰减了的光信号必须进行放大才能继续传输。采用**掺铒光纤放大器 EDFA**  能使两个放大器之间的光缆线路长度达到 120 km

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220202202441.png" style="zoom:36%;" />

### 2.4.3 码分复用

- 码分复用 CDM 是另一种共享信道的方法。实际上，由于该技术主要用于多址接入，人们更常用的名词是码分多址 CDMA
- CDM 的每一个用户可以**在同样的时间使用同样的频带进行通信**
- 由于**各用户使用经过特殊挑选的不同码型**，因此各用户之间**不会造成干扰**
- CDM 最初是用于军事通信的，因为这种系统所发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现
- 随着技术的进步，CDMA 设备的价格和体积都大幅下降，因而现在已广泛用于民用的移动通信中

<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220202202458.png" style="zoom:40%;" />

- 在CDMA中，每一个比特时间再划分为 $m$ 个短的间隔，称为**码片**（chip）。通常 $m$ 的值是64或128
- 使用 CDMA 的每一个站被指派一个唯一的 **$m \ \mathrm{bit}$ 码片序列**
  - 一个站如果要**发送比特1**，则发送它自己的 **$m \ \mathrm{bit}$ 码片序列**
  - 一个站如果要**发送比特0**，则发送它自己的 **$m \ \mathrm{bit}$ 码片序列的二进制反码**

- 码片序列的挑选原则为：
  - 分配给每个站的**码片序列必须各不相同**，实际常采用伪随机码序列
  - 分配给每个站的**码片序列必须互相正交**，即规格化内积为0
- 令向量 $\boldsymbol{S}$ 表示站 $S$ 的码片序列，向量 $\boldsymbol{T}$ 表示其他任何站的码片序列，则有：

$$
\boldsymbol{S}\cdot \boldsymbol{T}=\frac{1}{m}\sum_{i=1}^m S_iT_i=0\\
\boldsymbol{S}\cdot \overline{\boldsymbol{T}}=0\quad\quad\quad\quad
\boldsymbol{S}\cdot \boldsymbol{S}=1\quad\quad\quad\quad
\boldsymbol{S}\cdot \overline{\boldsymbol{S}}=-1
$$

> 例：站点 A、B、C 通过 CDMA 共享链路，A、B、C 的码片序列分别是$(1,1,1,1)$、$(1,-1,1,-1)$和$(1,1,-1,-1)$。若 C 从链路上收到的序列是$(2,0,2,0,0,-2,0,-2,0,2,0,2)$，则 C 收到 A 发送的数据是 <u>101</u>


